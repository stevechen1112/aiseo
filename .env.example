# Required in production for API key + webhook secret encryption
API_KEY_ENCRYPTION_SECRET=

# Phase 4 - 5.7 Automated backups (S3/MinIO)
# NOTE: Requires `pg_dump` available on PATH (or set BACKUP_PGDUMP_PATH).
BACKUP_ENABLED=false
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=us-east-1
# For MinIO: set endpoint + credentials, and typically force path style.
BACKUP_S3_ENDPOINT=
BACKUP_S3_ACCESS_KEY_ID=
BACKUP_S3_SECRET_ACCESS_KEY=
# Optional: enable SSE-S3 (AES256). Defaults true when BACKUP_S3_ENDPOINT is empty.
BACKUP_S3_SSE=
BACKUP_S3_FORCE_PATH_STYLE=true
BACKUP_PREFIX=aiseo-backups
BACKUP_CRON=0 3 * * *
BACKUP_TZ=
BACKUP_RETENTION_DAYS=30
BACKUP_PGDUMP_PATH=pg_dump

# Restore scripts
BACKUP_PSQL_PATH=psql
# Target DB URL for `pnpm -C apps/api backup:restore`
BACKUP_RESTORE_DATABASE_URL=
# For restore smoke test: keep temp DB instead of dropping.
BACKUP_RESTORE_TEST_KEEP_DB=false
# Auth (JWT) â€” REQUIRED. Must be at least 32 characters.
# Generate with PowerShell:  node -e "console.log(require('crypto').randomBytes(48).toString('base64'))"
# Or:  [Convert]::ToBase64String((1..48 | ForEach-Object { Get-Random -Maximum 256 }))
JWT_SECRET=
JWT_REFRESH_SECRET=

# API
PORT=3001
NODE_ENV=development

# Web Agent Field (optional)
# Enable Rive bot rendering in Agent Field view.
# If unset, app falls back to SVG + Framer animation.
# Only set this when the .riv asset has explicit commercial/re-distribution permission.
NEXT_PUBLIC_RIVE_AGENT_SRC=

# Database
DATABASE_URL=postgres://aiseo_app:aiseo_app@localhost:5433/aiseo
DATABASE_URL_MIGRATION=postgres://aiseo:aiseo@localhost:5433/aiseo

# Redis (BullMQ)
REDIS_URL=redis://localhost:6379

# Multi-tenant (dev default)
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000000

# API Key Management (Phase 3 - 4.10)
# Used to encrypt API key secrets at rest (AES-256-GCM).
# Dev helper (pick ONE):
# - PowerShell:  node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# - PowerShell:  [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
API_KEY_ENCRYPTION_SECRET=

# Gemini (Google Generative AI)
GOOGLE_GENERATIVE_AI_API_KEY=
GEMINI_MODEL=gemini-1.5-flash

# Ollama (Local LLM for content generation)
# The llm.chat tool calls Ollama's OpenAI-compatible API.
# Install: https://ollama.ai
# Download models: `ollama pull gemma3:27b` or `ollama pull llama3:8b`
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=gemma3:27b
OLLAMA_PROVIDER=ollama

# SEMrush API (Keyword Metrics - replaces Ahrefs)
# Sign up: https://www.semrush.com/api/
# Pricing: $125/month for 250,000 API units
SEMRUSH_API_KEY=
SEMRUSH_DATABASE=tw

# ValueSERP API (SERP Tracking)
# Sign up: https://www.valueserp.com/
# Free tier: 1,000 searches/month, then $0.002/search
SERP_PROVIDER=valueserp
VALUESERP_API_KEY=

# Stripe Billing
# Get keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
# Create products/prices in Stripe Dashboard, then set the Price IDs here:
STRIPE_PRICE_STARTER=price_...
STRIPE_PRICE_PRO=price_...
STRIPE_PRICE_TEAM=price_...

# OpenTelemetry (optional)
# Point to any OTLP-compatible collector (Jaeger, Grafana Tempo, etc.)
# Leave unset to disable tracing.
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=aiseo-api
